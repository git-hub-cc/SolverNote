/*
 * 全局 CSS 变量定义
 *
 * 这个文件是应用视觉系统的核心。
 * - `:root` 选择器定义了亮色模式下的默认变量。
 * - `html.dark` 选择器覆盖了这些变量，以实现深色模式。
 * 这种结构使得主题切换纯粹由 CSS 控制，高效且符合内容安全策略 (CSP)。
 */
:root {
  /* --- 调色板 Palette --- */
  /* 背景色 */
  --bg-app: #F9FAFB;      /* 整体背景：极淡灰 */
  --bg-sidebar: #F3F4F6;  /* 侧边栏背景 */
  --bg-card: #FFFFFF;     /* 卡片背景：纯白 */
  --bg-hover: #F3F4F6;    /* 悬停背景 */
  --bg-active: #E5E7EB;   /* 选中背景 */

  /* [核心修改] 新增：为编辑器编辑模式定义的专用背景色 */
  --bg-edit-mode: #FAFAFF; /* 编辑器激活时的一个非常淡的紫色背景 */

  /* 文本色 */
  --text-primary: #111827;   /* 正文黑 */
  --text-secondary: #4B5563; /* 辅助灰 */
  --text-tertiary: #9CA3AF;  /* 极淡灰 */

  /* 边框色 */
  --border-light: #E5E7EB;
  --border-hover: #D1D5DB;

  /* 功能色 */
  --color-brand: #6366F1;    /* SolverNote Indigo (品牌色) */
  --color-brand-light: #EEF2FF;
  --color-brand-hover: #4F46E5; /* 品牌色悬停态 */
  --color-danger: #EF4444;   /* 警告/弱提示红点 */
  --color-code-bg: #F3F4F6;

  /* 标签色 */
  --tag-bg-blue: #DBEAFE;
  --tag-text-blue: #1E40AF;
  --tag-bg-purple: #F3E8FF;
  --tag-text-purple: #6B21A8;

  /* --- 排版 Typography --- */
  --font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', 'Consolas', 'Menlo', 'Monaco', 'Courier New', monospace;

  /* --- 尺寸 Spacing & Sizing --- */
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;

  /* --- 效果 Effects --- */
  --shadow-card: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-float: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);

  /* 过渡动画 */
  --transition-fast: all 0.2s ease;
}

/*
 * 深色模式变量覆盖
 * 当 <html> 元素具有 `dark` 类时，这些变量将生效。
 */
html.dark {
  /* 背景色 */
  --bg-app: #111827;      /* Slate-900 */
  --bg-sidebar: #1F2937;  /* Slate-800 (与卡片背景一致，或略有区分) */
  --bg-card: #1F2937;     /* Slate-800 */
  --bg-hover: #374151;    /* Slate-700 */
  --bg-active: #4B5563;   /* Slate-600 */

  /* [核心修改] 新增：为编辑器编辑模式定义的专用背景色 (深色版本) */
  --bg-edit-mode: rgba(99, 102, 241, 0.05); /* 品牌色的一个透明版本，以适应深色背景 */

  /* 文本色 */
  --text-primary: #F3F4F6;   /* Gray-200 */
  --text-secondary: #9CA3AF; /* Gray-400 */
  --text-tertiary: #6B7280;  /* Gray-500 */

  /* 边框色 */
  --border-light: #374151;   /* Slate-700 */
  --border-hover: #4B5563;   /* Slate-600 */

  /* 功能色 */
  --color-brand: #818CF8;         /* Indigo-400 */
  --color-brand-light: #312E81;  /* Indigo-900 (作为背景) */
  --color-brand-hover: #A5B4FC;  /* Indigo-300 */
  --color-danger: #F87171;      /* Red-400 */
  --color-code-bg: #0F172A;     /* Slate-950 */

  /* 标签色 */
  --tag-bg-blue: #1E3A8A;
  --tag-text-blue: #BFDBFE;
  --tag-bg-purple: #581C87;
  --tag-text-purple: #E9D5FF;

  /* 效果 */
  --shadow-card: 0 1px 2px 0 rgba(0, 0, 0, 0.25);
  --shadow-float: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -2px rgba(0, 0, 0, 0.3);
}